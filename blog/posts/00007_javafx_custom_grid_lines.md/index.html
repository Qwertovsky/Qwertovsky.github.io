<!DOCTYPE html><html lang="en"><head>
  <meta charset="utf-8">
  <meta content="Qwertovsky" name="author">
  <link href="mailto:valery@qwertovsky.com" rel="author">
  <meta content="Qwertovsky, Qwertoblog, Квертовский" name="keywords">
  <meta content="Qwertovsky blog" name="description">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <link rel="icon" href="/blog/favicon.svg">
  <title>Show grid lines for GridPane | QwertoBlog</title>
  
    <link href="/blog/css/app.f0de77ac.css" rel="stylesheet">
  
</head>

<body>
  <div id="app"><div id="pageHeader"><a href="/blog/" class="qm_brand router-link-active">QwertoBlog</a><div></div><a href="/blog/tag" class="qm_nav_link tags_link" tabindex="0">Tags</a><a tabindex="0" href="//qwertovsky.com" class="qm_nav_link site_link">Site</a></div><section id="centerPart"><div class="post"><div class="post_title"><span>Show grid lines for GridPane</span></div><div class="post_meta"> 2012-05-01 <span><span> | <a href="/blog/tag/java" class="">java</a></span></span></div><div class="post_content"><div><p>There is good option in JavaFX 2. I can turn on visibility of grid lines for <code>GridPane</code>. I like it. With Swing and <code>GridBagLayout</code> it takes time to find out that element is placed in wrong cell and that is why form looks bad. New options helps.</p> <p>I was happy but not for long. The lines cross elements if elements span two or more cells. Gaps are not visible. The lines are gray and it is inpossible to change color.<br>
I desided to draw my lines.</p> <p>Method that draw lines is private. I can override it if I rewrite almost whole <code>GridPane</code> and not just it. Adding new classes to project just for debugging is not good idea.<br>
So I replaced <code>GridPane</code> in <code>jfxrt.jar</code>.</p> <h2>Lines</h2> <p>The method that draw lines is</p> <pre class="language-java"><code class="language-java"><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">layoutGridLines</span><span class="token punctuation">(</span><span class="token keyword">double</span> x<span class="token punctuation">,</span> <span class="token keyword">double</span> y<span class="token punctuation">,</span> <span class="token keyword">double</span> columnHeight<span class="token punctuation">,</span> <span class="token keyword">double</span> rowWidth<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
</code></pre><p>, where (<code>x</code>,<code>y</code>) are top left corner coordinates of the grid. <code>columnHeight</code> и <code>rowWidth</code> - colomn height and row width respectively.</p> <p>This method has drawn lines from start to end with a gap between them. I had to add new checks.</p> <p>At first I draw vertical lines. To do this, I iterate over all columns. And inner loop checks rows to find cells that span columns. If sush cells exist, line does not cross them.<br>
If the gap between columns (<code>Hgap</code>) is more than 0, I draw a rectangle, otherwise a line.\</p> <p>The same algorithm is used for horizontal lines.</p> <pre class="language-java"><code class="language-java"><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">layoutGridLines</span><span class="token punctuation">(</span><span class="token keyword">double</span> x<span class="token punctuation">,</span> <span class="token keyword">double</span> y<span class="token punctuation">,</span> <span class="token keyword">double</span> columnHeight<span class="token punctuation">,</span> <span class="token keyword">double</span> rowWidth<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isGridLinesVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>gridLines<span class="token punctuation">.</span><span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		gridLines<span class="token punctuation">.</span><span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// create vertical lines</span>
	<span class="token keyword">double</span> linex <span class="token operator">=</span> x<span class="token punctuation">;</span>
	<span class="token keyword">double</span> liney <span class="token operator">=</span> y<span class="token punctuation">;</span>
	<span class="token comment">//iterate through the columns</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> columnIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> columnIndex <span class="token operator">&lt;=</span> columnWidths<span class="token punctuation">.</span>length<span class="token punctuation">;</span> columnIndex<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token comment">//iterate through the rows</span>
		rows<span class="token operator">:</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> rowIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> rowIndex <span class="token operator">&lt;</span> rowHeights<span class="token punctuation">.</span>length<span class="token punctuation">;</span> rowIndex<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token comment">//look for children that span more then 1 columns</span>
			<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> <span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span>
			<span class="token punctuation">{</span>
				<span class="token class-name">Node</span> node <span class="token operator">=</span> <span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">//line crosses the node</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">getNodeColumnIndex</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token operator">&lt;</span> columnIndex	<span class="token operator">&amp;&amp;</span> <span class="token function">getNodeColumnEnd</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> columnIndex
						<span class="token operator">&amp;&amp;</span> <span class="token function">getNodeRowIndex</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> rowIndex <span class="token operator">&amp;&amp;</span> <span class="token function">getNodeRowEnd</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> rowIndex<span class="token punctuation">)</span>
				<span class="token punctuation">{</span>
					<span class="token comment">//no draw line</span>
					liney <span class="token operator">+=</span> rowHeights<span class="token punctuation">[</span>rowIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>
					<span class="token comment">//draw vgap</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span>rowIndex <span class="token operator">&lt;</span> rowHeights<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token function">getVgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
					<span class="token punctuation">{</span>
						<span class="token comment">//draw rectangle</span>
						<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">getHgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> columnIndex <span class="token generics"><span class="token punctuation">&lt;</span> columnWidths<span class="token punctuation">.</span>length <span class="token operator">&amp;</span><span class="token operator">&amp;</span> columnIndex <span class="token punctuation">&gt;</span></span> <span class="token number">0</span><span class="token punctuation">)</span>
						<span class="token punctuation">{</span>
							<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">getNodeRowEnd</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> rowIndex<span class="token punctuation">)</span>
							<span class="token punctuation">{</span>
								gridLines<span class="token punctuation">.</span><span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">createGridRectangle</span><span class="token punctuation">(</span>linex<span class="token punctuation">,</span> liney
										<span class="token punctuation">,</span> <span class="token function">getHgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getVgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
							<span class="token punctuation">}</span>
						<span class="token punctuation">}</span>
						<span class="token comment">//draw line</span>
						<span class="token keyword">else</span>
						<span class="token punctuation">{</span>
							<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">getNodeRowEnd</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> rowIndex <span class="token operator">||</span> columnIndex <span class="token operator">==</span> columnWidths<span class="token punctuation">.</span>length <span class="token operator">||</span> columnIndex <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
								gridLines<span class="token punctuation">.</span><span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">createGridLine</span><span class="token punctuation">(</span>linex<span class="token punctuation">,</span> liney
										<span class="token punctuation">,</span> linex<span class="token punctuation">,</span> liney <span class="token operator">+</span> <span class="token function">getVgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>
					liney <span class="token operator">+=</span> <span class="token function">getVgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">continue</span> rows<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
			
			<span class="token comment">//draw row</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">getHgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> columnIndex <span class="token generics"><span class="token punctuation">&lt;</span> columnWidths<span class="token punctuation">.</span>length <span class="token operator">&amp;</span><span class="token operator">&amp;</span> columnIndex <span class="token punctuation">&gt;</span></span> <span class="token number">0</span><span class="token punctuation">)</span>
			<span class="token punctuation">{</span>
				gridLines<span class="token punctuation">.</span><span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">createGridRectangle</span><span class="token punctuation">(</span>linex<span class="token punctuation">,</span> liney
						<span class="token punctuation">,</span> <span class="token function">getHgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rowHeights<span class="token punctuation">[</span>rowIndex<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{</span>
				gridLines<span class="token punctuation">.</span><span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">createGridLine</span><span class="token punctuation">(</span>linex<span class="token punctuation">,</span> liney
					<span class="token punctuation">,</span> linex<span class="token punctuation">,</span> liney <span class="token operator">+</span> rowHeights<span class="token punctuation">[</span>rowIndex<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			liney <span class="token operator">+=</span> rowHeights<span class="token punctuation">[</span>rowIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>
			
			<span class="token comment">//draw vgap</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">getVgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> rowIndex <span class="token operator">&lt;</span> rowHeights<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
			<span class="token punctuation">{</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">getHgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> columnIndex <span class="token generics"><span class="token punctuation">&lt;</span> columnWidths<span class="token punctuation">.</span>length <span class="token operator">&amp;</span><span class="token operator">&amp;</span> columnIndex <span class="token punctuation">&gt;</span></span> <span class="token number">0</span><span class="token punctuation">)</span>
				<span class="token punctuation">{</span>
					gridLines<span class="token punctuation">.</span><span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">createGridRectangle</span><span class="token punctuation">(</span>linex<span class="token punctuation">,</span> liney
							<span class="token punctuation">,</span> <span class="token function">getHgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getVgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">else</span>
					gridLines<span class="token punctuation">.</span><span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">createGridLine</span><span class="token punctuation">(</span>linex<span class="token punctuation">,</span> liney
						<span class="token punctuation">,</span> linex<span class="token punctuation">,</span> liney <span class="token operator">+</span> <span class="token function">getVgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				liney <span class="token operator">+=</span> <span class="token function">getVgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		
		<span class="token comment">//to new column</span>
		liney <span class="token operator">=</span> y<span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>columnIndex <span class="token operator">&lt;</span> columnWidths<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">getHgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> columnIndex <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
				linex <span class="token operator">+=</span> <span class="token function">getHgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			linex <span class="token operator">+=</span> columnWidths<span class="token punctuation">[</span>columnIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">// create horizontal lines</span>
	linex <span class="token operator">=</span> x<span class="token punctuation">;</span>
	liney <span class="token operator">=</span> y<span class="token punctuation">;</span>
	<span class="token comment">//iterate through the rows</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> rowIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> rowIndex <span class="token operator">&lt;=</span> rowHeights<span class="token punctuation">.</span>length<span class="token punctuation">;</span> rowIndex<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token comment">//iterate through the column</span>
		columns<span class="token operator">:</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> columnIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> columnIndex <span class="token operator">&lt;</span> columnWidths<span class="token punctuation">.</span>length<span class="token punctuation">;</span> columnIndex<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token comment">//look for children that span more then 1 row</span>
			<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> <span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span>
			<span class="token punctuation">{</span>
				<span class="token class-name">Node</span> node <span class="token operator">=</span> <span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">//line crosses the node</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">getNodeColumnIndex</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> columnIndex	<span class="token operator">&amp;&amp;</span> <span class="token function">getNodeColumnEnd</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> columnIndex
						<span class="token operator">&amp;&amp;</span> <span class="token function">getNodeRowIndex</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token operator">&lt;</span> rowIndex <span class="token operator">&amp;&amp;</span> <span class="token function">getNodeRowEnd</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> rowIndex<span class="token punctuation">)</span>
				<span class="token punctuation">{</span>
					<span class="token comment">//no draw line</span>
					linex <span class="token operator">+=</span> columnWidths<span class="token punctuation">[</span>columnIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>
					<span class="token comment">//draw hgap</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span>columnIndex <span class="token operator">&lt;</span> columnWidths<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token function">getHgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
					<span class="token punctuation">{</span>
						<span class="token comment">//draw rectangle</span>
						<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">getVgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> rowIndex <span class="token generics"><span class="token punctuation">&lt;</span> rowHeights<span class="token punctuation">.</span>length <span class="token operator">&amp;</span><span class="token operator">&amp;</span> rowIndex <span class="token punctuation">&gt;</span></span> <span class="token number">0</span><span class="token punctuation">)</span>
						<span class="token punctuation">{</span>
							<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">getNodeColumnEnd</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> columnIndex<span class="token punctuation">)</span>
							<span class="token punctuation">{</span>
								gridLines<span class="token punctuation">.</span><span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">createGridRectangle</span><span class="token punctuation">(</span>linex<span class="token punctuation">,</span> liney
										<span class="token punctuation">,</span> <span class="token function">getHgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getVgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
							<span class="token punctuation">}</span>
						<span class="token punctuation">}</span>
						<span class="token comment">//draw line</span>
						<span class="token keyword">else</span>
						<span class="token punctuation">{</span>
							<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">getNodeColumnEnd</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> columnIndex <span class="token operator">||</span> rowIndex <span class="token operator">==</span> rowHeights<span class="token punctuation">.</span>length <span class="token operator">||</span> rowIndex <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
								gridLines<span class="token punctuation">.</span><span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">createGridLine</span><span class="token punctuation">(</span>linex<span class="token punctuation">,</span> liney
										<span class="token punctuation">,</span> linex<span class="token punctuation">,</span> liney <span class="token operator">+</span> <span class="token function">getHgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>
					linex <span class="token operator">+=</span> <span class="token function">getHgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">continue</span> columns<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
			
			<span class="token comment">//draw column</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">getVgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> rowIndex <span class="token generics"><span class="token punctuation">&lt;</span> rowHeights<span class="token punctuation">.</span>length <span class="token operator">&amp;</span><span class="token operator">&amp;</span> rowIndex <span class="token punctuation">&gt;</span></span> <span class="token number">0</span><span class="token punctuation">)</span>
			<span class="token punctuation">{</span>
				gridLines<span class="token punctuation">.</span><span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">createGridRectangle</span><span class="token punctuation">(</span>linex<span class="token punctuation">,</span> liney
						<span class="token punctuation">,</span> columnWidths<span class="token punctuation">[</span>columnIndex<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function">getVgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{</span>
				gridLines<span class="token punctuation">.</span><span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">createGridLine</span><span class="token punctuation">(</span>linex<span class="token punctuation">,</span> liney
					<span class="token punctuation">,</span> linex <span class="token operator">+</span> columnWidths<span class="token punctuation">[</span>columnIndex<span class="token punctuation">]</span><span class="token punctuation">,</span> liney<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			linex <span class="token operator">+=</span> columnWidths<span class="token punctuation">[</span>columnIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>
			
			<span class="token comment">//draw hgap</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">getHgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> columnIndex <span class="token operator">&lt;</span> columnWidths<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
			<span class="token punctuation">{</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">getVgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> rowIndex <span class="token generics"><span class="token punctuation">&lt;</span> rowHeights<span class="token punctuation">.</span>length <span class="token operator">&amp;</span><span class="token operator">&amp;</span> rowIndex <span class="token punctuation">&gt;</span></span> <span class="token number">0</span><span class="token punctuation">)</span>
				<span class="token punctuation">{</span>
					gridLines<span class="token punctuation">.</span><span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">createGridRectangle</span><span class="token punctuation">(</span>linex<span class="token punctuation">,</span> liney
							<span class="token punctuation">,</span> <span class="token function">getHgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getVgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">else</span>
					gridLines<span class="token punctuation">.</span><span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">createGridLine</span><span class="token punctuation">(</span>linex<span class="token punctuation">,</span> liney
						<span class="token punctuation">,</span> linex <span class="token operator">+</span> <span class="token function">getHgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> liney<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				linex <span class="token operator">+=</span> <span class="token function">getHgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		
		<span class="token comment">//to new row</span>
		linex <span class="token operator">=</span> x<span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>rowIndex <span class="token operator">&lt;</span> rowHeights<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">getVgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> rowIndex <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
				liney <span class="token operator">+=</span> <span class="token function">getVgap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			liney <span class="token operator">+=</span> rowHeights<span class="token punctuation">[</span>rowIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	
<span class="token punctuation">}</span>
</code></pre><h2>Color</h2> <p>I want to change color of lines.</p> <p>I added alpha channel to default color for grid lines.</p> <pre class="language-java"><code class="language-java"><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Color</span> GRID_LINE_COLOR <span class="token operator">=</span> <span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token function">rgb</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>New <code>Property</code> for color.</p> <pre class="language-java"><code class="language-java"><span class="token comment">/**
 * Grid line color.
 */</span>
<span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token class-name">ObjectProperty</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Paint</span><span class="token punctuation">&gt;</span></span> <span class="token function">gridLineColorProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>gridLineColor <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		gridLineColor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StyleableObjectProperty</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Paint</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token function">rgb</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
						<span class="token punctuation">{</span>
							<span class="token annotation punctuation">@Override</span>
							<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">invalidated</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
							<span class="token punctuation">{</span>
								<span class="token function">requestLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
							<span class="token punctuation">}</span>

							<span class="token annotation punctuation">@Override</span>
							<span class="token keyword">public</span> <span class="token class-name">StyleableProperty</span> <span class="token function">getStyleableProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
							<span class="token punctuation">{</span>
								<span class="token keyword">return</span> <span class="token class-name">StyleableProperties</span><span class="token punctuation">.</span>GRID_LINE_COLOR<span class="token punctuation">;</span>
							<span class="token punctuation">}</span>

							<span class="token annotation punctuation">@Override</span>
							<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">getBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
							<span class="token punctuation">{</span>
								<span class="token keyword">return</span> <span class="token class-name">GridPane</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">;</span>
							<span class="token punctuation">}</span>

							<span class="token annotation punctuation">@Override</span>
							<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
							<span class="token punctuation">{</span>
								<span class="token keyword">return</span> <span class="token string">"gridLineColor"</span><span class="token punctuation">;</span>
							<span class="token punctuation">}</span>
						<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> gridLineColor<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token class-name">ObjectProperty</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Paint</span><span class="token punctuation">&gt;</span></span> gridLineColor<span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">setGridLineColor</span><span class="token punctuation">(</span><span class="token class-name">Paint</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">gridLineColorProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token class-name">Paint</span> <span class="token function">getGridLineColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> gridLineColor <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token function">rgb</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">)</span> <span class="token operator">:</span> gridLineColor<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Now I need to add new <code>StyleableProperty</code> to internal class <code>StyleableProperties</code>.</p> <pre class="language-java"><code class="language-java"><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">StyleableProperty</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">GridPane</span><span class="token punctuation">,</span><span class="token class-name">Paint</span><span class="token punctuation">&gt;</span></span> GRID_LINE_COLOR <span class="token operator">=</span>
 <span class="token keyword">new</span> <span class="token class-name">StyleableProperty</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">GridPane</span><span class="token punctuation">,</span><span class="token class-name">Paint</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token string">"-fx-grid-line-color"</span><span class="token punctuation">,</span>
	 <span class="token class-name">PaintConverter</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token function">rgb</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>

		<span class="token annotation punctuation">@Override</span>
		<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isSettable</span><span class="token punctuation">(</span><span class="token class-name">GridPane</span> node<span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token keyword">return</span> node<span class="token punctuation">.</span>gridLineColor <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token operator">!</span>node<span class="token punctuation">.</span>gridLineColor<span class="token punctuation">.</span><span class="token function">isBound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token annotation punctuation">@Override</span>
		<span class="token keyword">public</span> <span class="token class-name">WritableValue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Paint</span><span class="token punctuation">&gt;</span></span> <span class="token function">getWritableValue</span><span class="token punctuation">(</span><span class="token class-name">GridPane</span> node<span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token keyword">return</span> node<span class="token punctuation">.</span><span class="token function">gridLineColorProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>Now I can set color.</p> <pre class="language-java"><code class="language-java">pane<span class="token punctuation">.</span><span class="token function">setGridLinesVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
pane<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span><span class="token string">"-fx-grid-line-color: rgba(200,0,0,.3);"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
pane<span class="token punctuation">.</span><span class="token function">setGridLineColor</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token function">rgb</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0.3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>Style overrides property. Grid lines will be red. Not green.</p> <p>Test example:</p> <pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token class-name">Stage</span> stage<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span>
<span class="token punctuation">{</span>
	<span class="token class-name">GridPane</span> pane <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GridPane</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pane<span class="token punctuation">.</span><span class="token function">setAlignment</span><span class="token punctuation">(</span><span class="token class-name">Pos</span><span class="token punctuation">.</span>CENTER<span class="token punctuation">)</span><span class="token punctuation">;</span>
	pane<span class="token punctuation">.</span><span class="token function">setPadding</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Insets</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pane<span class="token punctuation">.</span><span class="token function">setVgap</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pane<span class="token punctuation">.</span><span class="token function">setHgap</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pane<span class="token punctuation">.</span><span class="token function">setGridLinesVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pane<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span><span class="token string">"-fx-grid-line-color: rgba(200,0,0,.3);"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//		pane.setGridLineColor(Color.rgb(0,200,0,0.3));</span>
	
	
	<span class="token class-name">Text</span> column0row0cs4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">"columnSpan:4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pane<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>column0row0cs4<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token class-name">Text</span> column0row1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">"column0row1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pane<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>column0row1<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">Text</span> column1row1cs2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">"columnSpan:2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pane<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>column1row1cs2<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">Text</span> column3row0rs2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">"rowSpan:2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pane<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>column3row0rs2<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token class-name">Text</span> column0row2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">"column0row2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pane<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>column0row2<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">Text</span> column1row2cs2rs2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">"columnSpan:2\n"</span> <span class="token operator">+</span>
			<span class="token string">"rowSpan:2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pane<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>column1row2cs2rs2<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token class-name">Text</span> column0row3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">"column0row3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">Text</span> column3row3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">"column3row3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pane<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>column0row3<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pane<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>column3row3<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token class-name">Text</span> column0row4cs3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">"columnSpan:3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pane<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>column0row4cs3<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">Text</span> column3row4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">"column3row4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pane<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>column3row4<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token class-name">Text</span> column0row5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">"column0row5"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pane<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>column0row5<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">Text</span> column1row5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">"column1row5"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pane<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>column1row5<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">Text</span> column2row5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">"column2row5"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pane<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>column2row5<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">Text</span> column3row5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string">"column3row5"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pane<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>column3row5<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token class-name">Scene</span> scene <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	scene <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scene</span><span class="token punctuation">(</span>pane<span class="token punctuation">,</span> <span class="token number">360</span><span class="token punctuation">,</span> <span class="token number">330</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	stage<span class="token punctuation">.</span><span class="token function">setScene</span><span class="token punctuation">(</span>scene<span class="token punctuation">)</span><span class="token punctuation">;</span>
	stage<span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token string">"Custom grid lines"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	stage<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>It will look like that (before and after):
<img src="/blog/posts/00007/default_and_custom.4d033bf4.png" alt="image"></p></div></div></div></section><footer id="page-footer"><div class="line"><a href="//www.qwertovsky.com" class="footer_logo"><img src="/blog/img/largeqwerto.176d8a1e.svg"></a><div class="copyright">Qwertovsky</div><div class="spacer"></div><div class="links"><a href="https://twitter.com/qwertovsky" class="twitter"><svg aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><a href="mailto:valery@qwertovsky.com" class="mail"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path></svg></a></div></div></footer></div>
  
    


</body></html>